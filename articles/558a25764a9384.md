---
title: "Python ã® OOP åŸºç¤"
emoji: "ğŸ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [Python, OOP]
published: false
---

## 1. ã‚ªãƒ—ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒã‚¹ã‚¿ãƒ¼ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã«ã¯å¤§ããåˆ†ã‘ã¦ï¼’ç¨®ã®è¦–ç‚¹ãŒå­˜åœ¨ã™ã‚‹ã€‚ï¼‘ã¤ã¯è¨­è¨ˆä¸Šã®è¦–ç‚¹ã€ã‚‚ã†ï¼‘ã¤ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ä¸Šã®è¦–ç‚¹ã§ã‚ã‚‹ã€‚ã“ã“ã§ã¯ä¸»ã« Python ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ä¸Šã®è¦–ç‚¹ã‚’ä¸­å¿ƒã«èª¬æ˜ã™ã‚‹ã€‚

ã¾ãšã¯æ¬¡ã®ï¼“ã¤ã®ç”¨èªã‚’æŠŠæ¡

* Objectsï¼ˆå¯¾è±¡ï¼‰
  * ãƒ—ãƒ­ã‚°ãƒ©ãƒ å†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’Propertyã¨Behaviorã‚’æŒã¤å®Ÿä¸–ç•Œã®Object(å¯¾è±¡)ã¨ã—ã¦è€ƒãˆã‚‹

* Properties(å±æ€§, entity, attribute)
  * ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’å®šç¾©ï¼å±æ€§ï¼ˆå¤‰æ•°ã€ãƒ‡ãƒ¼ã‚¿ï¼‰
    * ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒä¿æŒã™ã‚‹ãƒ‡ãƒ¼ã‚¿

* Behaviors(ãƒ¡ã‚½ãƒƒãƒ‰, method)
  * ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå–ã‚‹ã“ã¨ã®ã§ãã‚‹è¡Œå‹•ã®ã“ã¨ï¼ˆãƒ¡ã‚½ãƒƒãƒ‰ã€é–¢æ•°ï¼‰
    * å¤šãã®å ´åˆã¯propertyãŒå¤‰æ›´å‹•ä½œã«ãªã‚‹

## 2. Python ã®ã‚¯ãƒ©ã‚¹

* Propery(entity, attribute)ã¯ã—ã°ã—ã°åè©
  * ex)
    * Name, Age, Address
* Behaviors ã¯å‹•è©ãŒå¤šã„
  * ex)
    * Walk, Talk, Breath

## 3. ã‚¯ãƒ©ã‚¹å¤‰æ•°ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°

Python ã§ã¯ã‚¯ãƒ©ã‚¹ã‚’æ¬¡ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹ã€‚

```python
class Dog;
  pass
```

ãªãŠã€Python2 ã§ã¯æ¬¡ã®ã‚ˆã«()ã¨ãã®ä¸­ã« Object ã‚’è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚ã“ã‚Œã¯ç¾åœ¨ã§ã‚‚äº’æ›æ€§ã‚’ä¿ã£ã¦ãŠã‚Šã€ã‚¯ãƒ©ã‚¹ç¶™æ‰¿ã§ãƒ™ãƒ¼ã‚¹ã‚¯ãƒ©ã‚¹ã¨ã—ã¦ä½¿ãˆã‚‹ã®ã§ã€

```python
class Dog(object):
  pass
```

ã¨è¨˜è¿°ã™ã‚‹ã®ãŒã‚ˆã•ãã†ã€‚

ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ¯ã«ç•°ãªã‚‹ãƒ¡ãƒ¢ãƒªç©ºé–“ã‚’ç¢ºä¿ï¼ˆå€‹ã€…ã«ç‹¬ç«‹ï¼‰ã—ã¦ã„ã‚‹ã“ã¨ãŒãƒã‚¤ãƒ³ãƒˆã€‚

```python
>>> Dog()
<__main__.Dog object at 0x1032e6140>
>>> Dog()
<__main__.Dog object at 0x1032b4670>
```

ã“ã‚Œã¯æ¬¡ã«èª¬æ˜ã™ã‚‹ã‚¯ãƒ©ã‚¹å¤‰æ•°ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã‚‚åŒã˜åŸç†ã¨ãªã‚‹ã€‚

### ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã¨ self

ã‚¯ãƒ©ã‚¹ã« property ã‚’å®šç¾©ã™ã‚‹ã«ã¯æ¬¡ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹ã€‚

```python
class Dog:
  def __init__(self, name, age):
    self.name = name
    self.age = age
```

ãƒ¡ã‚½ãƒƒãƒ‰ã¯é–¢æ•°ã¨åŒæ§˜ã« **def** ã§å®šç¾©ã™ã‚‹ã€‚ä¸Šè¨˜ã®å®šç¾©ã¯ã€ç”Ÿæˆã•ã‚Œã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ¯ã« name, age ã‚’æŒã¤**ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°**ã®å®šç¾©ä¾‹ã§ã‚ã‚‹ã€‚

__init__ ã¯**ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶**ã¨å‘¼ã°ã‚Œã€ã‚¯ãƒ©ã‚¹ã‚’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã™ã‚‹éš›ã«è‡ªå‹•çš„ã« call ã•ã‚Œã‚‹ã€‚

ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ãŒã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã•ã‚Œã‚‹æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã€***self*** ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å«ã‚ã¦å®šç¾©ã™ã‚‹ã€‚***self** ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº«ã‚’æŒ‡ã—ã¦ã„ã‚‹ã€‚

å…ˆã«è§£èª¬ã—ãŸã‚ˆã†ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ¯ã«ç•°ãªã‚‹ãƒ¡ãƒ¢ãƒªç©ºé–“ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°name, age ã‚‚ãã‚Œãã‚Œç•°ãªã‚‹ç©ºé–“ã«ç¢ºä¿ã•ã‚Œã¦ã„ã‚‹ã€‚

```python
>>> class Dog:
...     def __init__(self, name, age):
...             self.name = name
...             self.age = age
...
>>> a = Dog('Aka', 3)
>>> b = Dog('Kuro', 5)
>>> id(a)
4339303424
>>> id(a.name)
4339339952
>>> id(b)
4339305728
>>> id(b.name)
4339338544
```

self ã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­ã‹ã‚‰è‡ªåˆ†è‡ªèº«ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã›ã‚‹ã€‚

```python
class Dog(object):
  def __init__(self, name):
    self.name = name

  def say_something(self):
    print(f'I am {self.name}. hello.')
    self.run()
  
  def run(self, num):
    print('run' * num)

retriver = Dog('berry')
retriver.say_shomething()
```

ä¸Šè¨˜ã®ã‚ˆã†ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼è¨˜è¿°ã§ã¯ã€name, age ãŒå¿…é ˆãªã®ã§ã€å¼•æ•°ã‚’æŒ‡å®šã›ãšã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€æ¬¡ã®æ§˜ã«ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã€‚

```shell
 Traceback (most recent call last):
  File "animal.py", line 8, in <module>
    retriver = Dog()
TypeError: Dog.__init__() missing 2 required positional arguments: 'name' and 'age'
```

ãªãŠã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã®é€šã‚Š2ã¤ã®å¼•æ•°ã‚’æ¸¡ã™ã‹ã€æŒ‡å®šãŒçœç•¥ã—ãŸéš›ã¯ **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°** ã‚’ä»£å…¥ã™ã‚‹ã‚ˆã†ã«ã™ã‚Œã°ã‚ˆã„ã€‚

```python
class Dog(object):
    species = "mammal"

    def __init__(self, name="å¤ªéƒ", age=0):
        self.name = name
        self.age = age


retriver = Dog()
```

### ã‚¯ãƒ©ã‚¹å¤‰æ•°

ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å±æ€§ã¨ã¯ç•°ãªã‚Šå„ã‚¯ãƒ©ã‚¹æ¯ã«å›ºæœ‰ã®å±æ€§ã‚’**ã‚¯ãƒ©ã‚¹å¤‰æ•°**ã¨ã„ã†ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã•ã‚ŒãŸå¾Œã€ã™ã¹ã¦ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæŒã¤ã¹ããƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å€¤ã‚’æŒ‡å®šã™ã‚‹ãŸã‚ã«ä½¿ã‚ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚

æ¬¡ã®ä¾‹ã§ã¯ç¨®æ—ï¼ˆspeciesï¼‰ã‚’ã‚¯ãƒ©ã‚¹å¤‰æ•°ã¨ã—ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’å“ºä¹³é¡ï¼ˆmammalï¼‰ã¨ã—ãŸéš›ã®è¨˜è¿°ä¾‹ã¨ãªã‚‹ã€‚

```python
class Dog:

  species = 'mammal'

  def __init__(self, name, age):
    self.name = name
    self.age = age
```

#### ã‚¯ãƒ©ã‚¹å¤‰æ•°ã®å¤‰æ›´ã¨æ³¨æ„

ã“ã“ã§å…ˆã»ã©ã¨åŒæ§˜ã«ç¢ºä¿ã•ã‚Œã¦ã„ã‚‹ãƒ¡ãƒ¢ãƒªç©ºé–“ã‚’ç¢ºèªã™ã‚‹ã¨ã€ã‚¯ãƒ©ã‚¹å¤‰æ•°ã®å‹•ä½œãŒã‚ˆãç†è§£ã§ãã‚‹ã€‚

```python
>>> class Dog:
...     species = 'mammal'
...     def __init__(self, name, age):
...             self.name = name
...             self.age = age
...
>>> a = Dog('Aka', 3)
>>> b = Dog('Kuro', 8)
>>> id(a)
4339309520
>>> id(b)
4339309376
>>> id(a.name)
4339339952
>>> id(b.name)
4339338544
>>> id(a.species)
4338676464   â† åŒã˜ãƒ¡ãƒ¢ãƒªç©ºé–“
>>> id(b.species)
4338676464   â† åŒã˜ãƒ¡ãƒ¢ãƒªç©ºé–“
```

ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æ¯ã«ãã‚Œãã‚Œç•°ãªã‚‹ãƒ¡ãƒ¢ãƒªç©ºé–“ã‚’ç¢ºä¿ã—ç‹¬ç«‹ã—ã¦å­˜åœ¨ã™ã‚‹ãŒã€ã‚¯ãƒ©ã‚¹å¤‰æ•°ã¯åŒã˜ãƒ¡ãƒ¢ãƒªç©ºé–“ã‚’å…±æœ‰ã—ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚ã“ã‚ŒãŒã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆå¾Œã§ã‚‚ã‚¯ãƒ©ã‚¹å¤‰æ•°ã‚’å¤‰æ›´ã™ã‚‹ã¨å…¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«åæ˜ ã•ã‚Œã‚‹ä»•çµ„ã¿ã§ã‚ã‚‹ã€‚

ãªãŠã€Python ã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€**ã‚¨ãƒ©ãƒ¼ã‚‚ç™ºç”Ÿã›ãšã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°åŒ–**ã—ã¦ã—ã¾ã†ã®ã§ã€ã‚¯ãƒ©ã‚¹å¤‰æ•°ã®å¤‰æ›´ã«ã¯æ³¨æ„ãŒå¿…è¦ã§ã‚ã‚‹ã€‚

```python
>>> class Dog:
...     species = 'mammal'
...     def __init__(self, name, age):
...             self.name = name
...
>>> a = Dog('Aka', 3)
>>> b = Dog('Kuro', 8)
>>> id(a.species)
4338676464
>>> id(b.species)
4338676464
>>> a.species = 'dentistry'
>>> id(a.species)
4339340848  â† ã‚¢ãƒ‰ãƒ¬ã‚¹ç©ºé–“ãŒæ–°è¦ç¢ºä¿ã•ã‚Œã‚‹
>>> id(b.species)
4338676464
```

ä¸€åº¦ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°åŒ–ã™ã‚‹ã¨ã€ãã®å¾Œã¯ã‚¯ãƒ©ã‚¹å¤‰æ•°ã®å¤‰æ›´ã®å½±éŸ¿å¤–ã«ãªã‚‹ã€‚

```python
class Dog:
    species = "mammal"

    def __init__(self, name, age):
        self.name = name
        self.age = age


aka = Dog("shiba", 5)
kuro = Dog("labu", 6)

print(f"{aka.name} is a {aka.species}")
print(f"{kuro.name} is a {kuro.species}")

print("\n### change Dog's species: dentistry\n")
Dog.species = "dentistry"
print(f"{aka.name} is a {aka.species}")
print(f"{kuro.name} is a {kuro.species}")

print("\n### change aka's species: amphibian\n")
aka.species = "amphibian"
print(f"{aka.name} is a {aka.species}")
print(f"{kuro.name} is a {kuro.species}")

print("\n### change Dog's species: raptors\n")
Dog.species = "raptors"
print(f"{aka.name} is a {aka.species}")
print(f"{kuro.name} is a {kuro.species}")
```

## 4. Classã®ç¶™æ‰¿

